"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Gst1A5 = void 0;
var EzoAd_1 = __importDefault(require("../utils/EzoAd"));
var commonTempData_1 = require("./commonTempData");
var Gst1A5 = /** @class */ (function () {
    function Gst1A5(data) {
        this.data = data;
        this.totalSaving = 0;
    }
    Gst1A5.prototype.main = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        _b = (_a = "\n        <style>\n        ".concat(commonTempData_1.commonTempData.invoiceHtmlTemplateCss(), "\n        </style>\n        <span class=\"st-inv-mobi-screen\">\n          <style>").concat(commonTempData_1.commonTempData.mobileCss(), "</style>\n        </span>\n        <span class=\"invoice-template-main\">\n          <div \n            class=\"container-new border-full arial inv-body-holder\"\n            style=\"display: flow-root;width:").concat(this.data.pageWidth || 210, "mm;background: white;padding: 0;padding:0;border: 1px solid #000000;color: #000;\">\n              ").concat(this.header(), "\n              ").concat(this.templateBody(), "\n              ")).concat;
                        return [4 /*yield*/, this.footer()];
                    case 1: return [2 /*return*/, _b.apply(_a, [_c.sent(), "\n              <div class=\"inv-bottom-wrapper\" style=\"margin:0 !important; padding:0 !important\">\n                <div style=\"height: 1px; width: 100%;\">\n                </div>\n                <div style=\"height: 9px;display: flow-root;width:100%;text-align:right;font-size: 12px;color: #d3d3d3;\" class=\"f-16 inv-bottom\">\n                </div>\n            </div>\n          </div>\n        </span>\n        "])];
                }
            });
        });
    };
    Gst1A5.prototype.header = function () {
        return "\n          ".concat(this.sellerAndPartyDetails(), "\n         ");
    };
    Gst1A5.prototype.footer = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = "\n          ".concat;
                        return [4 /*yield*/, this.footerAmountCalculation()];
                    case 1: return [2 /*return*/, _a.apply("\n          ", [_b.sent(), "\n          "]).concat(this.footerBankDetails(), "\n          ").concat(this.footerTNCAndNotes(), "\n         ")];
                }
            });
        });
    };
    Gst1A5.prototype.footerTNCAndNotes = function () {
        var _a, _b, _c, _d;
        var html = '';
        if ((_a = this.data) === null || _a === void 0 ? void 0 : _a.note) {
            html += this.commmonTNCAndNotesFormat('Notes', (_b = this.data) === null || _b === void 0 ? void 0 : _b.note, 'inv-section-notes');
        }
        if ((_c = this.data) === null || _c === void 0 ? void 0 : _c.tnc) {
            html += this.commmonTNCAndNotesFormat('Terms and Conditions', (_d = this.data) === null || _d === void 0 ? void 0 : _d.tnc, 'inv-section-terms');
        }
        return html;
    };
    Gst1A5.prototype.commmonTNCAndNotesFormat = function (title, value, sectionClassName) {
        return "\n    <div class=\"".concat(sectionClassName, "-wrapper\" style=\"margin:0 !important; padding:0 !important\"> \n      <div style=\"height: 1px; width: 100%;\"></div>\n        <div\n        style=\"display: flex;flex-wrap:wrap;width: 100%;margin-bottom: 5px;background: #ffffff;padding:10px;border-top: 1px solid #000000;\"\n        class=\"padding-10 m-5 b-w-t\">\n          <div style=\"font-weight: bold;font-size: 13px;width: 100%;color: #000;\" class=\"f-13 f-b\">").concat(title, "</div>\n          <div style=\"font-size: 13px;width: 100%;\" class=\"f-13\">\n            ").concat(value, "\n          </div>\n        </div>\n    </div>\n        ");
    };
    Gst1A5.prototype.invoiceTitle = function () {
        var _a, _b;
        var html = '';
        var invoiceTitle = commonTempData_1.commonTempData.getInvoiceTitle(this.data);
        if (invoiceTitle) {
            html += "\n      <div class=\"inv-title-holder-wrapper\" style=\"margin:0 !important; padding:0 !important\">\n        <div style=\"height: 1px; width: 100%;\"></div>\n        <div class=\"f-b f-20 padding-15\" style=\"width: 100%;padding: 15px 15px 2px;text-align: center;font-size: 16px;font-weight: bold;color: ".concat((_a = this.data) === null || _a === void 0 ? void 0 : _a.color, ";\">\n        ").concat(invoiceTitle, "\n        </div>\n      </div>\n        ");
        }
        else {
            html += "\n      <div class=\"inv-title-holder-wrapper\" style=\"margin:0 !important; padding:0 !important\">\n        <div style=\"height: 1px; width: 100%;\"></div>\n        <div class=\"f-b f-20 padding-15\" style=\"width: 100%;padding: 15px 15px 2px;text-align: center;font-size: 16px;font-weight: bold;color: ".concat((_b = this.data) === null || _b === void 0 ? void 0 : _b.color, ";\">\n          Tax Invoice\n        </div>\n      </div>\n        ");
        }
        return html;
    };
    Gst1A5.prototype.sellerAndPartyDetails = function () {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31, _32, _33, _34, _35, _36, _37, _38, _39, _40, _41, _42, _43, _44, _45, _46, _47, _48, _49, _50, _51, _52, _53, _54, _55, _56, _57, _58, _59, _60, _61, _62, _63, _64, _65, _66, _67, _68, _69, _70, _71, _72, _73, _74, _75, _76, _77, _78, _79, _80, _81, _82, _83, _84, _85, _86, _87, _88, _89, _90, _91, _92, _93, _94, _95, _96, _97, _98, _99, _100, _101;
        var html = '';
        // close this Main div in last
        html += "\n    <div class=\"inv-bill-details-wrapper\" style=\"margin:0 !important; padding:0 !important\">\n    <div style=\"height: 1px; width: 100%;\"></div>\n    <div class=\"flex b-w-b\" style=\"display: flex;border-bottom: 1px solid #000000 !important;align-items: stretch;\">";
        //S: seller details L.H.S
        //S:Naming this div as div1
        html += "<div class=\"h50 padding-10101010 b-w-r\" style=\"width: 50%;padding: 10px;border-right: 1px solid #000000;\">";
        if ((_c = (_b = (_a = this.data) === null || _a === void 0 ? void 0 : _a.user) === null || _b === void 0 ? void 0 : _b.profileData) === null || _c === void 0 ? void 0 : _c.legalName) {
            html += "<div class=\"f-24 f-b\" style=\"font-size: 16px;font-weight: bold;color: ".concat((_d = this.data) === null || _d === void 0 ? void 0 : _d.color, ";\">").concat((_g = (_f = (_e = this.data) === null || _e === void 0 ? void 0 : _e.user) === null || _f === void 0 ? void 0 : _f.profileData) === null || _g === void 0 ? void 0 : _g.legalName, "</div>");
        }
        var sellerProfileData = (_j = (_h = this.data) === null || _h === void 0 ? void 0 : _h.user) === null || _j === void 0 ? void 0 : _j.profileData;
        if ((sellerProfileData === null || sellerProfileData === void 0 ? void 0 : sellerProfileData.addressLine1) || (sellerProfileData === null || sellerProfileData === void 0 ? void 0 : sellerProfileData.addressState)) {
            html += this.commonLeftSideFormatforSellerAndParty('Address', "".concat(sellerProfileData === null || sellerProfileData === void 0 ? void 0 : sellerProfileData.addressLine1).concat((sellerProfileData === null || sellerProfileData === void 0 ? void 0 : sellerProfileData.addressState) ? ', ' + (sellerProfileData === null || sellerProfileData === void 0 ? void 0 : sellerProfileData.addressState) : '').concat((sellerProfileData === null || sellerProfileData === void 0 ? void 0 : sellerProfileData.addressPincode) ? ', ' + (sellerProfileData === null || sellerProfileData === void 0 ? void 0 : sellerProfileData.addressPincode) : ''));
        }
        if (((_m = (_l = (_k = this.data) === null || _k === void 0 ? void 0 : _k.user) === null || _l === void 0 ? void 0 : _l.profileData) === null || _m === void 0 ? void 0 : _m.contactPersonPhone) && ((_q = (_p = (_o = this.data) === null || _o === void 0 ? void 0 : _o.user) === null || _p === void 0 ? void 0 : _p.profileData) === null || _q === void 0 ? void 0 : _q.contactPersonPhone) != '0') {
            html += this.commonLeftSideFormatforSellerAndParty('Phone', (_t = (_s = (_r = this.data) === null || _r === void 0 ? void 0 : _r.user) === null || _s === void 0 ? void 0 : _s.profileData) === null || _t === void 0 ? void 0 : _t.contactPersonPhone);
        }
        if ((_w = (_v = (_u = this.data) === null || _u === void 0 ? void 0 : _u.user) === null || _v === void 0 ? void 0 : _v.profileData) === null || _w === void 0 ? void 0 : _w.contactPersonEmail) {
            html += this.commonLeftSideFormatforSellerAndParty('Email', (_z = (_y = (_x = this.data) === null || _x === void 0 ? void 0 : _x.user) === null || _y === void 0 ? void 0 : _y.profileData) === null || _z === void 0 ? void 0 : _z.contactPersonEmail);
        }
        if ((_2 = (_1 = (_0 = this.data) === null || _0 === void 0 ? void 0 : _0.user) === null || _1 === void 0 ? void 0 : _1.profileData) === null || _2 === void 0 ? void 0 : _2.gstNumber) {
            html += "<div class=\"f-14\" style=\"font-weight:bold;font-size:14px;color:#000;\">".concat(sellerProfileData === null || sellerProfileData === void 0 ? void 0 : sellerProfileData.gstNumber, "</div>");
        }
        if (((_5 = (_4 = (_3 = this.data) === null || _3 === void 0 ? void 0 : _3.user) === null || _4 === void 0 ? void 0 : _4.profileData) === null || _5 === void 0 ? void 0 : _5.additionalDateFieldTitle)
            && ((((_8 = (_7 = (_6 = this.data) === null || _6 === void 0 ? void 0 : _6.user) === null || _7 === void 0 ? void 0 : _7.profileData) === null || _8 === void 0 ? void 0 : _8.additionalDateFieldTitle) + "").trim()).length > 0
            && ((_11 = (_10 = (_9 = this.data) === null || _9 === void 0 ? void 0 : _9.user) === null || _10 === void 0 ? void 0 : _10.profileData) === null || _11 === void 0 ? void 0 : _11.additionalDateFieldValue)
            && ((((_14 = (_13 = (_12 = this.data) === null || _12 === void 0 ? void 0 : _12.user) === null || _13 === void 0 ? void 0 : _13.profileData) === null || _14 === void 0 ? void 0 : _14.additionalDateFieldValue) + "").trim()).length > 0) {
            html += "<div class=\"f-14\" style=\"font-size:14px;color:#000;\"><b>".concat((_17 = (_16 = (_15 = this.data) === null || _15 === void 0 ? void 0 : _15.user) === null || _16 === void 0 ? void 0 : _16.profileData) === null || _17 === void 0 ? void 0 : _17.additionalDateFieldTitle, " : </b>").concat((_20 = (_19 = (_18 = this.data) === null || _18 === void 0 ? void 0 : _18.user) === null || _19 === void 0 ? void 0 : _19.profileData) === null || _20 === void 0 ? void 0 : _20.additionalDateFieldValue, "</div>");
        }
        if (((_23 = (_22 = (_21 = this.data) === null || _21 === void 0 ? void 0 : _21.user) === null || _22 === void 0 ? void 0 : _22.profileData) === null || _23 === void 0 ? void 0 : _23.additionalInputFieldTitle)
            && ((((_26 = (_25 = (_24 = this.data) === null || _24 === void 0 ? void 0 : _24.user) === null || _25 === void 0 ? void 0 : _25.profileData) === null || _26 === void 0 ? void 0 : _26.additionalInputFieldTitle) + "").trim()).length > 0
            && ((_29 = (_28 = (_27 = this.data) === null || _27 === void 0 ? void 0 : _27.user) === null || _28 === void 0 ? void 0 : _28.profileData) === null || _29 === void 0 ? void 0 : _29.additionalInputFieldValue)
            && ((((_32 = (_31 = (_30 = this.data) === null || _30 === void 0 ? void 0 : _30.user) === null || _31 === void 0 ? void 0 : _31.profileData) === null || _32 === void 0 ? void 0 : _32.additionalInputFieldValue) + "").trim()).length > 0) {
            html += "<div class=\"f-14\" style=\"font-size:14px;color:#000;\"><b>".concat((_34 = (_33 = this.data) === null || _33 === void 0 ? void 0 : _33.user) === null || _34 === void 0 ? void 0 : _34.profileData.additionalInputFieldTitle, " : </b>").concat((_36 = (_35 = this.data) === null || _35 === void 0 ? void 0 : _35.user) === null || _36 === void 0 ? void 0 : _36.profileData.additionalInputFieldValue, "</div>");
        }
        //E: sellerdetails L.H.S
        //S: Party details L.H.S
        var billTitle = ((_37 = this.data) === null || _37 === void 0 ? void 0 : _37.isPurchase) ? 'Bill From' : 'Bill To';
        html += "<div class=\"f-14 f-b mt-20\" style=\"font-size: 14px;font-weight:bold;color: #000;\">".concat(billTitle, ":</div>");
        var el = (_39 = (_38 = this.data) === null || _38 === void 0 ? void 0 : _38.partyInfo) === null || _39 === void 0 ? void 0 : _39.profileData;
        if (el === null || el === void 0 ? void 0 : el.legalName) {
            html += "<div class=\"f-14\" style=\"font-weight:bold;font-size:14px;color:#000;\">M/s. ".concat(el === null || el === void 0 ? void 0 : el.legalName, "</div>");
        }
        if ((el === null || el === void 0 ? void 0 : el.contactPersonName) == (el === null || el === void 0 ? void 0 : el.contactPersonPhone)) {
            html += this.commonLeftSideFormatforSellerAndParty('Phone', el === null || el === void 0 ? void 0 : el.contactPersonPhone);
        }
        else {
            if (el === null || el === void 0 ? void 0 : el.contactPersonName) {
                if ((el === null || el === void 0 ? void 0 : el.contactPersonName) == "Party Not Available") {
                    html += "<div class=\"f-14\" style=\"font-weight:bold;font-size:14px;color:red;\">Party Has Been Deleted</div>";
                }
                else {
                    html += "<div class=\"f-14\" style=\"font-weight:bold;font-size:14px;color:#000;\">".concat(el === null || el === void 0 ? void 0 : el.contactPersonName, "</div>");
                }
            }
            if (el === null || el === void 0 ? void 0 : el.contactPersonPhone) {
                html += this.commonLeftSideFormatforSellerAndParty('Phone', el === null || el === void 0 ? void 0 : el.contactPersonPhone);
            }
        }
        if ((el === null || el === void 0 ? void 0 : el.addressLine1) || (el === null || el === void 0 ? void 0 : el.addressState)) {
            html += this.commonLeftSideFormatforSellerAndParty('Address', "".concat((el === null || el === void 0 ? void 0 : el.addressLine1) ? el === null || el === void 0 ? void 0 : el.addressLine1 : '').concat((el === null || el === void 0 ? void 0 : el.addressState) ? ', ' + (el === null || el === void 0 ? void 0 : el.addressState) : '').concat((el === null || el === void 0 ? void 0 : el.addressPincode) ? ', ' + (el === null || el === void 0 ? void 0 : el.addressPincode) : ''));
        }
        if (((_42 = (_41 = (_40 = this.data) === null || _40 === void 0 ? void 0 : _40.partyInfo) === null || _41 === void 0 ? void 0 : _41.profileData) === null || _42 === void 0 ? void 0 : _42.additionalDateFieldTitle)
            && (((_45 = (_44 = (_43 = this.data) === null || _43 === void 0 ? void 0 : _43.partyInfo) === null || _44 === void 0 ? void 0 : _44.profileData) === null || _45 === void 0 ? void 0 : _45.additionalDateFieldTitle) + "").trim().length > 0
            && ((_48 = (_47 = (_46 = this.data) === null || _46 === void 0 ? void 0 : _46.partyInfo) === null || _47 === void 0 ? void 0 : _47.profileData) === null || _48 === void 0 ? void 0 : _48.additionalDateFieldValue)
            && (((_51 = (_50 = (_49 = this.data) === null || _49 === void 0 ? void 0 : _49.partyInfo) === null || _50 === void 0 ? void 0 : _50.profileData) === null || _51 === void 0 ? void 0 : _51.additionalDateFieldValue) + "").trim().length > 0) {
            html += "<div class=\"f-14\" style=\"font-size:14px;color:#000;\"><b>".concat(this.data.partyInfo.profileData.additionalDateFieldTitle, " : </b>").concat(this.data.partyInfo.profileData.additionalDateFieldValue, "</div>");
        }
        if (((_54 = (_53 = (_52 = this.data) === null || _52 === void 0 ? void 0 : _52.partyInfo) === null || _53 === void 0 ? void 0 : _53.profileData) === null || _54 === void 0 ? void 0 : _54.additionalInputFieldTitle)
            && (((_57 = (_56 = (_55 = this.data) === null || _55 === void 0 ? void 0 : _55.partyInfo) === null || _56 === void 0 ? void 0 : _56.profileData) === null || _57 === void 0 ? void 0 : _57.additionalInputFieldTitle) + "").trim().length > 0
            && ((_60 = (_59 = (_58 = this.data) === null || _58 === void 0 ? void 0 : _58.partyInfo) === null || _59 === void 0 ? void 0 : _59.profileData) === null || _60 === void 0 ? void 0 : _60.additionalInputFieldValue)
            && (((_63 = (_62 = (_61 = this.data) === null || _61 === void 0 ? void 0 : _61.partyInfo) === null || _62 === void 0 ? void 0 : _62.profileData) === null || _63 === void 0 ? void 0 : _63.additionalInputFieldValue) + "").trim().length > 0) {
            html += "<div class=\"f-14\" style=\"font-size:14px;color:#000;\"><b>".concat(this.data.partyInfo.profileData.additionalInputFieldTitle, " : </b>").concat(this.data.partyInfo.profileData.additionalInputFieldValue, "</div>");
        }
        if (el === null || el === void 0 ? void 0 : el.gstNumber) {
            html += this.commonLeftSideFormatforSellerAndParty('GST', el === null || el === void 0 ? void 0 : el.gstNumber);
        }
        if ((el === null || el === void 0 ? void 0 : el.udf1T) && (el === null || el === void 0 ? void 0 : el.udf1V)) {
            html += this.commonLeftSideFormatforSellerAndParty(el === null || el === void 0 ? void 0 : el.udf1T, el === null || el === void 0 ? void 0 : el.udf1V);
        }
        if ((el === null || el === void 0 ? void 0 : el.udf2T) && (el === null || el === void 0 ? void 0 : el.udf2V)) {
            html += this.commonLeftSideFormatforSellerAndParty(el === null || el === void 0 ? void 0 : el.udf2T, el === null || el === void 0 ? void 0 : el.udf2V);
        }
        if ((el === null || el === void 0 ? void 0 : el.udf3T) && (el === null || el === void 0 ? void 0 : el.udf3V)) {
            html += this.commonLeftSideFormatforSellerAndParty(el === null || el === void 0 ? void 0 : el.udf3T, el === null || el === void 0 ? void 0 : el.udf3V);
        }
        //E:Naming this div as div1
        //E: Party details L.H.S
        html += "</div>";
        //S: SellerAndPartyDetails R.H.S
        //S:Naming this div as div2
        var invoiceTitle = commonTempData_1.commonTempData.getInvoiceTitle(this.data) ? commonTempData_1.commonTempData.getInvoiceTitle(this.data) : 'Tax Invoice';
        html += " <div class=\"h50 padding-10101010\" style=\"width: 50%;padding: 10px;\">\n    <span class=\"f-16 padding-0010\" style=\"padding-left:10px;float:left;width:50%;text-align:left;font-size: 12px;color: #d3d3d3;\">".concat(invoiceTitle, "</span>\n        <span class=\"f-16 padding-0010\" style=\"padding-right:10px;float:right;width:50%;text-align:right;font-size: 12px;color: #d3d3d3;\">").concat((_64 = this.data) === null || _64 === void 0 ? void 0 : _64.addressTo, "</span>");
        if ((_65 = this.data) === null || _65 === void 0 ? void 0 : _65.logo) {
            html += "\n            <div style=\"display: flow-root;width: 30%;margin-left: auto;margin-bottom: 10px;\">\n              <img src=\"".concat((_66 = this.data) === null || _66 === void 0 ? void 0 : _66.logo, "\" style=\"display: block;margin-left: auto;width:70%;\">\n            </div>\n            ");
        }
        else {
            html += "\n          <div  class=\"addLogo\" style=\"display: flow-root;float:right;background: white;width: 50%;margin: 5px 0 7px;height:auto;padding: 5px;display: flex;flex-wrap: wrap;border-radius: 6px;border: 2px dashed #dbb73F;\">\n            <img src=\"/assets/icons/upload-photo.png\" style=\"display: block;width:40%;margin: 5px auto;\">\n            <span style=\"font-size:14px;width:100%;text-align:center;color: #000;\" class=\"f-16\">Upload Logo</span>\n          </div>\n          ";
        }
        //S:Naming this div as div3
        html += "<div style=\"display: flow-root;width: 100%;align-items: flex-start;flex-wrap: wrap;\">";
        if ((_67 = this.data) === null || _67 === void 0 ? void 0 : _67.invoiceNo) {
            var title = "".concat(((_68 = this.data) === null || _68 === void 0 ? void 0 : _68.isEstimate) ? 'Estimate No' : 'Invoice No');
            html += this.commonRightSideFormatForSellerAndParty(title, (_69 = this.data) === null || _69 === void 0 ? void 0 : _69.invoiceNo);
        }
        if (((_70 = this.data) === null || _70 === void 0 ? void 0 : _70.purOrderNo) && ((_71 = this.data) === null || _71 === void 0 ? void 0 : _71.purOrderNo) != ' ') {
            html += this.commonRightSideFormatForSellerAndParty('PO No', (_72 = this.data) === null || _72 === void 0 ? void 0 : _72.purOrderNo);
        }
        if (((_73 = this.data) === null || _73 === void 0 ? void 0 : _73.challanNo) && ((_74 = this.data) === null || _74 === void 0 ? void 0 : _74.challanNo) != ' ') {
            html += this.commonRightSideFormatForSellerAndParty('Challan No', (_75 = this.data) === null || _75 === void 0 ? void 0 : _75.challanNo);
        }
        if ((_76 = this.data) === null || _76 === void 0 ? void 0 : _76.invoiceDateStamp) {
            html += this.commonDateFormat('Date', (_77 = this.data) === null || _77 === void 0 ? void 0 : _77.invoiceDateStamp);
        }
        if (((_78 = this.data) === null || _78 === void 0 ? void 0 : _78.isEstimate) && ((_79 = this.data) === null || _79 === void 0 ? void 0 : _79.createdStamp)) {
            html += this.commonDateTimeFormat('Order Received Time', (_80 = this.data) === null || _80 === void 0 ? void 0 : _80.createdStamp);
        }
        var salePurReturnBillTitle = '';
        var salePurReturnDateTitle = '';
        if ((_81 = this.data) === null || _81 === void 0 ? void 0 : _81.isPurchaseReturn) {
            salePurReturnBillTitle = 'Purchase Bill No';
            salePurReturnDateTitle = 'Purchase Bill Date';
        }
        if ((_82 = this.data) === null || _82 === void 0 ? void 0 : _82.isSaleReturn) {
            salePurReturnBillTitle = ' Sale Bill No';
            salePurReturnDateTitle = ' Sale Bill Date';
        }
        if ((((_83 = this.data) === null || _83 === void 0 ? void 0 : _83.isSaleReturn) || ((_84 = this.data) === null || _84 === void 0 ? void 0 : _84.isPurchaseReturn)) && ((_85 = this.data) === null || _85 === void 0 ? void 0 : _85.billNo)) {
            html += this.commonRightSideFormatForSellerAndParty(salePurReturnBillTitle, (_86 = this.data) === null || _86 === void 0 ? void 0 : _86.billNo);
        }
        if (((_87 = this.data) === null || _87 === void 0 ? void 0 : _87.isPurchaseReturn) && ((_88 = this.data) === null || _88 === void 0 ? void 0 : _88.billDateStamp)) {
            html += this.commonDateFormat(salePurReturnDateTitle, (_89 = this.data) === null || _89 === void 0 ? void 0 : _89.billDateStamp);
        }
        if ((_90 = this.data) === null || _90 === void 0 ? void 0 : _90.dueDateStamp) {
            html += this.commonDateFormat('Due Date', (_91 = this.data) === null || _91 === void 0 ? void 0 : _91.dueDateStamp);
        }
        if ((_92 = this.data) === null || _92 === void 0 ? void 0 : _92.eWayBillNo) {
            html += this.commonRightSideFormatForSellerAndParty('E-way Bill No', (_93 = this.data) === null || _93 === void 0 ? void 0 : _93.eWayBillNo);
        }
        if ((_94 = this.data) === null || _94 === void 0 ? void 0 : _94.eWayBillDate) {
            html += this.commonDateFormat('E-way Bill Date', (_95 = this.data) === null || _95 === void 0 ? void 0 : _95.eWayBillDate);
        }
        if ((_96 = this.data) === null || _96 === void 0 ? void 0 : _96.vehicleNumber) {
            html += this.commonRightSideFormatForSellerAndParty('Vehicle No', (_97 = this.data) === null || _97 === void 0 ? void 0 : _97.vehicleNumber);
        }
        if ((_98 = this.data) === null || _98 === void 0 ? void 0 : _98.transporterName) {
            html += this.commonRightSideFormatForSellerAndParty('Transporter Name', (_99 = this.data) === null || _99 === void 0 ? void 0 : _99.transporterName);
        }
        if ((_100 = this.data) === null || _100 === void 0 ? void 0 : _100.deliveryDate) {
            html += this.commonDateFormat('Delivery Date', (_101 = this.data) === null || _101 === void 0 ? void 0 : _101.deliveryDate);
        }
        //E:Naming this div as div3
        html += "</div>";
        //E:Naming this div as div2
        html += "</div>";
        //Main div
        html += "</div>";
        //wrapper div
        html += "</div>";
        return html;
    };
    Gst1A5.prototype.templateBody = function () {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5;
        if (!((_b = (_a = this.data) === null || _a === void 0 ? void 0 : _a.invoiceItems) === null || _b === void 0 ? void 0 : _b.length)) {
            return '';
        }
        var html = '';
        var totalQty = 0;
        var totalCess = 0;
        var isHsn = false;
        var isTax = false;
        var isMrp = false;
        var isDiscount = false;
        var dynamicColumnCount = 0;
        var dynamicColWidthCss;
        var sellOrPurchasePrice;
        var isAdditionlDateField = false;
        var isExpiryDate = false;
        var isAdditionlInputField = false;
        var additionlDateFieldTitle = '';
        var additionlInputFieldTitle = '';
        for (var i = 0; i < ((_d = (_c = this.data) === null || _c === void 0 ? void 0 : _c.invoiceItems) === null || _d === void 0 ? void 0 : _d.length); i++) {
            var el = (_e = this.data) === null || _e === void 0 ? void 0 : _e.invoiceItems[i];
            if ((el === null || el === void 0 ? void 0 : el.item) && ((el === null || el === void 0 ? void 0 : el.mrp) || ((_f = el === null || el === void 0 ? void 0 : el.item) === null || _f === void 0 ? void 0 : _f.mrp)) && (el === null || el === void 0 ? void 0 : el.sellPrice) && !((_g = this.data) === null || _g === void 0 ? void 0 : _g.isPurchase)) {
                if (!(el === null || el === void 0 ? void 0 : el.spIncTax)) {
                    //Exclusive
                    this.totalSaving += ((((el === null || el === void 0 ? void 0 : el.mrp) || ((_h = el === null || el === void 0 ? void 0 : el.item) === null || _h === void 0 ? void 0 : _h.mrp)) - (el === null || el === void 0 ? void 0 : el.sellPrice) + ((el === null || el === void 0 ? void 0 : el.discountFlat) || 0)) * (el === null || el === void 0 ? void 0 : el.quantity)) - (((el === null || el === void 0 ? void 0 : el.totalCess) || 0) + ((el === null || el === void 0 ? void 0 : el.totalTax) || 0));
                }
                else {
                    //Inclusive
                    this.totalSaving += (((el === null || el === void 0 ? void 0 : el.mrp) || ((_j = el === null || el === void 0 ? void 0 : el.item) === null || _j === void 0 ? void 0 : _j.mrp)) - (el === null || el === void 0 ? void 0 : el.sellPrice) + ((el === null || el === void 0 ? void 0 : el.discountFlat) || 0)) * (el === null || el === void 0 ? void 0 : el.quantity);
                }
            }
            else {
                if ((el === null || el === void 0 ? void 0 : el.item) && (!(el === null || el === void 0 ? void 0 : el.mrp) && !((_k = el === null || el === void 0 ? void 0 : el.item) === null || _k === void 0 ? void 0 : _k.mrp)) && (el === null || el === void 0 ? void 0 : el.sellPrice) && !((_l = this.data) === null || _l === void 0 ? void 0 : _l.isPurchase)) {
                    if (el === null || el === void 0 ? void 0 : el.totalDiscount) {
                        this.totalSaving += el === null || el === void 0 ? void 0 : el.totalDiscount;
                    }
                }
            }
            if ((el === null || el === void 0 ? void 0 : el.hsn) && !isHsn) {
                isHsn = true;
                dynamicColumnCount++;
            }
            if (((el === null || el === void 0 ? void 0 : el.mrp) || ((_m = el === null || el === void 0 ? void 0 : el.item) === null || _m === void 0 ? void 0 : _m.mrp)) && !isMrp) {
                isMrp = true;
                dynamicColumnCount++;
            }
            if (((el === null || el === void 0 ? void 0 : el.totalTax) || (el === null || el === void 0 ? void 0 : el.cess)) && !isTax) {
                isTax = true;
                dynamicColumnCount++;
            }
            if ((el === null || el === void 0 ? void 0 : el.totalDiscount) && !isDiscount) {
                isDiscount = true;
                dynamicColumnCount++;
            }
            if ((!((_o = el === null || el === void 0 ? void 0 : el.item) === null || _o === void 0 ? void 0 : _o.expiryDate) && ((el === null || el === void 0 ? void 0 : el.additionalDateFieldTitle) && (el === null || el === void 0 ? void 0 : el.additionalDateFieldValue))) && !isAdditionlDateField) {
                isAdditionlDateField = true;
                additionlDateFieldTitle = el === null || el === void 0 ? void 0 : el.additionalDateFieldTitle;
                dynamicColumnCount++;
            }
            if ((_p = el === null || el === void 0 ? void 0 : el.item) === null || _p === void 0 ? void 0 : _p.expiryDate) {
                isExpiryDate = true;
                isAdditionlDateField = false;
            }
            if ((el === null || el === void 0 ? void 0 : el.additionalInputFieldTitle) && (el === null || el === void 0 ? void 0 : el.additionalInputFieldValue) && !isAdditionlInputField) {
                isAdditionlInputField = true;
                additionlInputFieldTitle = el === null || el === void 0 ? void 0 : el.additionalInputFieldTitle;
                dynamicColumnCount++;
            }
        }
        if (dynamicColumnCount == 1) {
            dynamicColWidthCss = "extraColOne";
        }
        else if (dynamicColumnCount == 2) {
            dynamicColWidthCss = "extraColTwo";
        }
        else if (dynamicColumnCount == 3) {
            dynamicColWidthCss = "extraColThree";
        }
        else if (dynamicColumnCount == 4) {
            dynamicColWidthCss = "extraColFour";
        }
        // Main div , close it in last
        html += "\n    <div class=\"inv-item-list-holder-wrapper\" style=\"margin:0 !important; padding:0 !important\">\n    <div style=\"height:1px; width: 100%;\"></div>\n    <div style=\"width: 100%\" class=\"inv-item-list-holder\" >";
        // Table close it before main div closing
        html += "<table style=\"width: 100%; text-align: center;table-layout: fixed; border-collapse: collapse !important;\" ".concat(dynamicColumnCount ? "class='".concat(dynamicColWidthCss, "'") : '', ">");
        html += "\n        <thead style=\"border-bottom: 1px solid #000000 !important;\">\n          <th style=\"text-align: center;padding:5px;font-size:13px;\">#</th>\n          <th style=\"text-align: center;width: 50%;padding:5px;font-size:13px;\">Item Names</th>\n          <th style=\"text-align: center;padding:5px;font-size:13px;".concat(!isHsn ? 'display: none' : '', "\">HSN Code</th>\n          <th style=\"text-align: center;padding:5px;font-size:13px;\">Qty</th>\n          <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isAdditionlInputField ? 'display: none' : '', "\">").concat(additionlInputFieldTitle, "</th>\n          <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isExpiryDate ? 'display: none' : '', "\">Expiry Date</th>\n          <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isAdditionlDateField ? 'display: none' : '', "\">").concat(additionlDateFieldTitle, "</th>\n          <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isMrp ? 'display: none' : '', "\">MRP</th>\n          <th style=\"text-align: center;padding:5px;font-size:13px;\">\u20B9/Unit</th>\n          <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isDiscount ? 'display: none' : '', "\">Disc</th>\n          <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isTax ? 'display: none' : '', "\">Tax Amt</th>\n          <th style=\"text-align: right;padding:5px;font-size:13px;\">Total</th>\n        </thead>\n        ");
        // close it after applying conditions
        html += "<tbody>";
        for (var i = 0; i < ((_r = (_q = this.data) === null || _q === void 0 ? void 0 : _q.invoiceItems) === null || _r === void 0 ? void 0 : _r.length); i++) {
            var el = (_s = this.data) === null || _s === void 0 ? void 0 : _s.invoiceItems[i];
            var discountPercent = commonTempData_1.commonTempData.reCalDiscountPercentage(this.data, el);
            totalQty = totalQty + (+(el === null || el === void 0 ? void 0 : el.quantity));
            totalCess = totalCess + (el === null || el === void 0 ? void 0 : el.totalCess);
            sellOrPurchasePrice = (((_t = this.data) === null || _t === void 0 ? void 0 : _t.isPurchase) ? el === null || el === void 0 ? void 0 : el.purchasePrice : el === null || el === void 0 ? void 0 : el.sellPrice) || 0;
            html += "\n      <tr>\n      <td style=\"text-align: center;padding:5px;-webkit-print-color-adjust: exact !important;color-adjust: exact !important;font-size:13px;vertical-align:top;\">".concat(i + 1, "</td>\n      <td class=\"padding-0515\"\n        style=\"text-align: center;width: 50%;overflow: hidden;text-overflow: ellipsis;padding: 5px;white-space: nowrap;-webkit-print-color-adjust: exact !important;color-adjust: exact !important;font-size:13px\">\n        ").concat((((_u = el === null || el === void 0 ? void 0 : el.item) === null || _u === void 0 ? void 0 : _u.itemName) || '') + ((el === null || el === void 0 ? void 0 : el.itemDes) ? '<br>(' + (el === null || el === void 0 ? void 0 : el.itemDes) + ')' : '') + ((el === null || el === void 0 ? void 0 : el.itemSrl) ? '<br>(' + (el === null || el === void 0 ? void 0 : el.itemSrl) + ')' : ''), "\n      </td>\n      <td style=\"-webkit-print-color-adjust: exact !important;color-adjust: exact !important;vertical-align:top;text-align: center;padding:5px;font-size:13px;").concat(!isHsn ? 'display: none' : '', "\">").concat((el === null || el === void 0 ? void 0 : el.hsn) || ((_v = el === null || el === void 0 ? void 0 : el.item) === null || _v === void 0 ? void 0 : _v.hsn) || '', "</td>\n      <td style=\"-webkit-print-color-adjust: exact !important;color-adjust: exact !important;vertical-align:top;text-align: center;padding:5px;font-size:13px;\">").concat(commonTempData_1.commonTempData.unitAdjuster(((el === null || el === void 0 ? void 0 : el.quantity) || 0)) + " " + ((el === null || el === void 0 ? void 0 : el.unit) || ''), "</td>\n      <td style=\"-webkit-print-color-adjust: exact !important;color-adjust: exact !important;vertical-align:top;text-align: center;padding:5px;font-size:13px;").concat(!isAdditionlInputField ? 'display: none' : '', "\">").concat((el === null || el === void 0 ? void 0 : el.additionalInputFieldValue) || '', "</td>\n      <td style=\"-webkit-print-color-adjust: exact !important;color-adjust: exact !important;vertical-align:top;text-align: center;padding:5px;font-size:13px;").concat(!isExpiryDate ? 'display: none' : '', "\">").concat(((_w = el === null || el === void 0 ? void 0 : el.item) === null || _w === void 0 ? void 0 : _w.expiryDate) ? commonTempData_1.commonTempData.dateToDDMMYYY((_x = el === null || el === void 0 ? void 0 : el.item) === null || _x === void 0 ? void 0 : _x.expiryDate) : '', "</td>\n      <td style=\"-webkit-print-color-adjust: exact !important;color-adjust: exact !important;vertical-align:top;text-align: center;padding:5px;font-size:13px;").concat(!isAdditionlDateField ? 'display: none' : '', "\">").concat((el === null || el === void 0 ? void 0 : el.additionalDateFieldValue) || '', "</td>\n      <td style=\"-webkit-print-color-adjust: exact !important;color-adjust: exact !important;vertical-align:top;text-align: center;padding:5px;font-size:13px;").concat(!isMrp ? 'display: none' : '', "\">").concat(((el === null || el === void 0 ? void 0 : el.mrp) || ((_y = el === null || el === void 0 ? void 0 : el.item) === null || _y === void 0 ? void 0 : _y.mrp)) || '', "</td>\n      <td style=\"-webkit-print-color-adjust: exact !important;color-adjust: exact !important;vertical-align:top;text-align: center;padding:5px;font-size:13px;\">").concat(sellOrPurchasePrice, "</td>\n      <td style=\"-webkit-print-color-adjust: exact !important;color-adjust: exact !important;vertical-align:top;text-align: center;padding:5px;font-size:13px;").concat(!isDiscount ? 'display: none' : '', "\">").concat(((el === null || el === void 0 ? void 0 : el.totalDiscount) ? (el === null || el === void 0 ? void 0 : el.totalDiscount) + '<br>' + '(' + discountPercent + '%' + ')' : ''), "</td>\n      <td style=\"-webkit-print-color-adjust: exact !important;color-adjust: exact !important;vertical-align:top;text-align: center;padding:5px;font-size:13px;").concat(!isTax ? 'display: none' : '', "\">\n      ").concat(((((el === null || el === void 0 ? void 0 : el.totalTax) || 0) + ((el === null || el === void 0 ? void 0 : el.totalCess) || 0)) > 0 ? commonTempData_1.commonTempData.unitAdjuster(((el === null || el === void 0 ? void 0 : el.totalTax) || 0) + ((el === null || el === void 0 ? void 0 : el.totalCess) || 0)) + '<br>' + '(' + ((el === null || el === void 0 ? void 0 : el.taxPercentage) || 0) + ((el === null || el === void 0 ? void 0 : el.cess) ? ((el === null || el === void 0 ? void 0 : el.taxPercentage) ? '+' : '') + (el === null || el === void 0 ? void 0 : el.cess) : '') + ')%' : ''), "\n      </td>\n      <td style=\"-webkit-print-color-adjust: exact !important;color-adjust: exact !important;vertical-align:top;text-align: right;padding:5px;font-size:13px;\">").concat(el === null || el === void 0 ? void 0 : el.totalAmount, "</td>\n    </tr>\n    ");
        }
        // tbody tag closed
        html += "</tbody>";
        html += "\n        <thead class=\"border\" style=\"border-top: 1px solid #000000 !important;border-bottom: 0 !important;\">\n           <th style=\"text-align: center;padding:5px;font-size:13px;\"></th>\n           <th style=\"text-align: center;width: 50%;padding:5px;font-size:13px;\">Total</th>\n           <th style=\"text-align: center;padding:5px;font-size:13px;".concat(!isHsn ? 'display: none' : '', "\"></th>\n           <th style=\"text-align: center;padding:5px;font-size:13px;\">").concat(commonTempData_1.commonTempData.unitAdjuster(totalQty), "</th>\n           <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isAdditionlInputField ? 'display: none' : '', "\"></th>\n           <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isExpiryDate ? 'display: none' : '', "\"></th>\n           <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isAdditionlDateField ? 'display: none' : '', "\"></th>\n           <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isMrp ? 'display: none' : '', "\"></th>\n           <th style=\"text-align: center;padding:5px;font-size:13px;\"></th>\n           <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isDiscount ? 'display: none' : '', "\">\n           ").concat((((_z = this.data) === null || _z === void 0 ? void 0 : _z.discountAmount) ? '₹' + ((_0 = this.data) === null || _0 === void 0 ? void 0 : _0.discountAmount) : ''), "\n           </th>\n           <th style=\"text-align: center;padding:5px;font-size:13px;").concat(!isTax ? 'display: none' : '', "\">\n           ").concat(((((_1 = this.data) === null || _1 === void 0 ? void 0 : _1.gstAmount) || 0) + (totalCess)) > 0 ? '₹' + commonTempData_1.commonTempData.unitAdjuster((((_2 = this.data) === null || _2 === void 0 ? void 0 : _2.gstAmount) || 0) + (totalCess)) : '', "\n           </th>\n           <th style=\"text-align: right;padding:5px;font-size:13px;\">\n           \u20B9").concat(commonTempData_1.commonTempData.unitAdjuster((((_3 = this.data) === null || _3 === void 0 ? void 0 : _3.totalAmount) || 0) - (((_4 = this.data) === null || _4 === void 0 ? void 0 : _4.additionalAmount) || 0) + (((_5 = this.data) === null || _5 === void 0 ? void 0 : _5.flatDiscount) || 0)), "\n           </th>\n         </thead>\n        ");
        html += "</table>";
        html += "</div>";
        html += "</div>";
        return html;
    };
    Gst1A5.prototype.footerAmountCalculation = function () {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24;
        return __awaiter(this, void 0, void 0, function () {
            var totalTaxAmt, receivedOrPaidAmt, isTax, sameState, obj, el, html, qrCodeBase64, additionalAmount, receivedOrPaid, balanceAmt;
            return __generator(this, function (_25) {
                switch (_25.label) {
                    case 0:
                        totalTaxAmt = 0;
                        receivedOrPaidAmt = 0;
                        isTax = false;
                        sameState = false;
                        obj = ((_b = (_a = this.data) === null || _a === void 0 ? void 0 : _a.user) === null || _b === void 0 ? void 0 : _b.profileData) || null;
                        el = (((_d = (_c = this.data) === null || _c === void 0 ? void 0 : _c.partyInfo) === null || _d === void 0 ? void 0 : _d.profileData) || null);
                        if (el && ((el === null || el === void 0 ? void 0 : el.addressState) == ((_g = (_f = (_e = this.data) === null || _e === void 0 ? void 0 : _e.user) === null || _f === void 0 ? void 0 : _f.profileData) === null || _g === void 0 ? void 0 : _g.addressState))) {
                            sameState = true;
                        }
                        else if ((!(el === null || el === void 0 ? void 0 : el.addressState) || !((_k = (_j = (_h = this.data) === null || _h === void 0 ? void 0 : _h.user) === null || _j === void 0 ? void 0 : _j.profileData) === null || _k === void 0 ? void 0 : _k.addressState))) {
                            sameState = true;
                        }
                        if (((_l = this.data) === null || _l === void 0 ? void 0 : _l.gstAmount) || ((_m = this.data) === null || _m === void 0 ? void 0 : _m.cessAmount)) {
                            totalTaxAmt = ((_o = this.data) === null || _o === void 0 ? void 0 : _o.gstAmount) + ((_p = this.data) === null || _p === void 0 ? void 0 : _p.cessAmount);
                            isTax = true;
                        }
                        if (((_q = this.data) === null || _q === void 0 ? void 0 : _q.moneyInInfo) || ((_r = this.data) === null || _r === void 0 ? void 0 : _r.moneyOut)) {
                            receivedOrPaidAmt = (((_t = (_s = this.data) === null || _s === void 0 ? void 0 : _s.moneyInInfo) === null || _t === void 0 ? void 0 : _t.amount) || ((_v = (_u = this.data) === null || _u === void 0 ? void 0 : _u.moneyOut) === null || _v === void 0 ? void 0 : _v.amount));
                        }
                        if ((_w = this.data) === null || _w === void 0 ? void 0 : _w.amountReceived) {
                            receivedOrPaidAmt = (_x = this.data) === null || _x === void 0 ? void 0 : _x.amountReceived;
                        }
                        html = '';
                        //wrapper class
                        html += "<div class=\"inv-total-holder-wrapper\" style=\"margin:0 !important; padding:0 !important\">\n    <div style=\"height: 1px; width: 100%;\"></div>";
                        //Close this Main div in last
                        html += EzoAd_1.default.showAd((_y = this.data) === null || _y === void 0 ? void 0 : _y.fbUser);
                        html += "<div\n        style=\"display: flex;width: 100%;align-items: flex-start;background: #ffffff;padding:0;border-top: 1px solid #000000 !important;border-bottom:0 !important;\"\n        class=\"padding-00 b-w-b\">";
                        //S: Naming this div as div1
                        html += "<div class=\"padding-10\" style=\"display: flow-root;width: 50%;padding: 10px;\">";
                        html += "\n        <div style=\"display: flow-root;font-weight: bold;font-size: 14px;color: #000;text-transform: capitalize;\"\n        class=\"f-14 f-b\">\n        Invoice Amount in Words\n        </div>\n        <div style=\"display: flow-root;font-size: 14px;color: #000;text-transform: capitalize;\" class=\"f-14\">\n        ".concat(commonTempData_1.commonTempData.convertToIndianCurrency(((_z = this.data) === null || _z === void 0 ? void 0 : _z.totalAmount).toString()), "\n        </div>\n        ");
                        if (!(obj && ((obj === null || obj === void 0 ? void 0 : obj.bankName) || (obj === null || obj === void 0 ? void 0 : obj.bankAccountNo) || (obj === null || obj === void 0 ? void 0 : obj.accountType) || (obj === null || obj === void 0 ? void 0 : obj.ifscCode) || (obj === null || obj === void 0 ? void 0 : obj.upi)))) return [3 /*break*/, 3];
                        if (!((obj === null || obj === void 0 ? void 0 : obj.upi) && ((_0 = this.data) === null || _0 === void 0 ? void 0 : _0.qrPayLink))) return [3 /*break*/, 2];
                        return [4 /*yield*/, commonTempData_1.commonTempData.generateQR((_1 = this.data) === null || _1 === void 0 ? void 0 : _1.qrPayLink)];
                    case 1:
                        qrCodeBase64 = _25.sent();
                        html += "\n        <div style=\"width: 30%;float: left;\" class=\"m-l-neg-10\">\n          <img style=\"width: 100%;\" src=\"".concat(qrCodeBase64, "\">\n        </div>");
                        _25.label = 2;
                    case 2:
                        if (obj === null || obj === void 0 ? void 0 : obj.bankAccountNo) {
                            html += " <div style=\"font-weight:bold;font-size: 14px;width: 100%;\" class=\"f-16\">Acc No : ".concat(obj === null || obj === void 0 ? void 0 : obj.bankAccountNo, "</div>");
                        }
                        if (obj === null || obj === void 0 ? void 0 : obj.accountType) {
                            html += this.commonBankDetailsFormatForFooter('Acc Type : ' + (obj === null || obj === void 0 ? void 0 : obj.accountType));
                        }
                        if (obj === null || obj === void 0 ? void 0 : obj.ifscCode) {
                            html += "<div style=\"font-size: 14px;width: 100%;\" class=\"f-16\">IFSC : ".concat(obj === null || obj === void 0 ? void 0 : obj.ifscCode).concat((obj === null || obj === void 0 ? void 0 : obj.bankName) ? ', ' + (obj === null || obj === void 0 ? void 0 : obj.bankName) : '', "</div>");
                        }
                        if (obj === null || obj === void 0 ? void 0 : obj.upi) {
                            html += this.commonBankDetailsFormatForFooter(obj === null || obj === void 0 ? void 0 : obj.upi);
                        }
                        else if (!(obj === null || obj === void 0 ? void 0 : obj.upi) && (obj === null || obj === void 0 ? void 0 : obj.bankAccountNo) && (obj === null || obj === void 0 ? void 0 : obj.ifscCode)) {
                            html += this.commonBankDetailsFormatForFooter((obj === null || obj === void 0 ? void 0 : obj.bankAccountNo) + '@' + (obj === null || obj === void 0 ? void 0 : obj.ifscCode) + '.ifsc.npci');
                        }
                        _25.label = 3;
                    case 3:
                        //E: Naming this div as div1
                        html += "</div>";
                        //Naming this div as div2, close it after applying conditions
                        html += " <div class=\"padding-10 b-w-l\"\n        style=\"display: flow-root;width: 50%;align-items: flex-start;flex-wrap: wrap;border-left: 1px solid #000000;padding: 10px;\">";
                        additionalAmount = ((_2 = this.data) === null || _2 === void 0 ? void 0 : _2.additionalAmount) || 0;
                        if (additionalAmount) {
                            html += this.commonAmountCalculationFormatForFooter('Labour/Delivery Charges', additionalAmount);
                        }
                        if ((_3 = this.data) === null || _3 === void 0 ? void 0 : _3.flatDiscountWithInvoiceDiscount) {
                            html += this.commonAmountCalculationFormatForFooter('Cash Discount', "".concat(commonTempData_1.commonTempData.unitAdjuster((_4 = this.data) === null || _4 === void 0 ? void 0 : _4.flatDiscountWithInvoiceDiscount), " (").concat((_5 = this.data) === null || _5 === void 0 ? void 0 : _5.flatDiscountPercentage, "%)"));
                        }
                        else if ((_6 = this.data) === null || _6 === void 0 ? void 0 : _6.flatDiscount) {
                            html += this.commonAmountCalculationFormatForFooter('Cash Discount', "".concat(commonTempData_1.commonTempData.unitAdjuster((_7 = this.data) === null || _7 === void 0 ? void 0 : _7.flatDiscount)));
                        }
                        html += "\n        <div style=\"display:flex;\">\n        <div\n        style=\"display: flow-root;font-weight: bold;text-transform:uppercase;font-size: 16px;color: #000;width: 50%;float: left;\"\n        class=\"f-16 f-b\">\n            Total Amount\n        </div>\n        <div\n        style=\"display: flow-root;font-weight: bold;font-size: 16px;color: #000;width: 50%;float: left;text-align: right;\"\n        class=\"f-16 f-b dv-inv-temp-total-amount\">\n            \u20B9".concat(commonTempData_1.commonTempData.unitAdjuster(((_8 = this.data) === null || _8 === void 0 ? void 0 : _8.totalAmount) ? (_9 = this.data) === null || _9 === void 0 ? void 0 : _9.totalAmount : 0), "\n        </div>\n        </div>\n        ");
                        receivedOrPaid = ((_10 = this.data) === null || _10 === void 0 ? void 0 : _10.isPurchase) ? 'Paid Amount' : 'Received Amount';
                        if (receivedOrPaidAmt) {
                            html += this.commonAmountCalculationFormatForFooter(receivedOrPaid, commonTempData_1.commonTempData.unitAdjuster(receivedOrPaidAmt || 0));
                        }
                        balanceAmt = ((((_11 = this.data) === null || _11 === void 0 ? void 0 : _11.totalAmount) || 0) - receivedOrPaidAmt);
                        if (balanceAmt > 0) {
                            html += this.commonAmountCalculationFormatForFooter('Balance', commonTempData_1.commonTempData.unitAdjuster(balanceAmt));
                        }
                        if (((_12 = this.data) === null || _12 === void 0 ? void 0 : _12.showPreviousAmount) && ((_14 = (_13 = this.data) === null || _13 === void 0 ? void 0 : _13.partyData) === null || _14 === void 0 ? void 0 : _14.ledgerCredit) != null && ((_16 = (_15 = this.data) === null || _15 === void 0 ? void 0 : _15.partyData) === null || _16 === void 0 ? void 0 : _16.ledgerCredit) != undefined) {
                            html += this.commonAmountCalculationFormatForFooter('Previous Balance', commonTempData_1.commonTempData.unitAdjuster(((_18 = (_17 = this.data) === null || _17 === void 0 ? void 0 : _17.partyData) === null || _18 === void 0 ? void 0 : _18.ledgerCredit) || 0));
                            if (balanceAmt > 0) {
                                if (this.data.isPurchase) {
                                    html += this.commonAmountCalculationFormatForFooter('Total Balance', commonTempData_1.commonTempData.unitAdjuster((((_20 = (_19 = this.data) === null || _19 === void 0 ? void 0 : _19.partyData) === null || _20 === void 0 ? void 0 : _20.ledgerCredit) || 0) - balanceAmt));
                                }
                                else {
                                    html += this.commonAmountCalculationFormatForFooter('Total Balance', commonTempData_1.commonTempData.unitAdjuster((((_22 = (_21 = this.data) === null || _21 === void 0 ? void 0 : _21.partyData) === null || _22 === void 0 ? void 0 : _22.ledgerCredit) || 0) + balanceAmt));
                                }
                            }
                        }
                        this.totalSaving = (this.totalSaving || 0) + (((_23 = this.data) === null || _23 === void 0 ? void 0 : _23.flatDiscount) || 0);
                        if (this.totalSaving > 0 && ((_24 = this.data) === null || _24 === void 0 ? void 0 : _24.billSavingsAmount)) {
                            html += this.commonAmountCalculationFormatForFooter('Total Saving', commonTempData_1.commonTempData.unitAdjuster(this.totalSaving));
                        }
                        // div2 closed
                        html += "</div>";
                        // main div closed
                        html += "</div>";
                        //wrapper div
                        html += "</div>";
                        return [2 /*return*/, html];
                }
            });
        });
    };
    Gst1A5.prototype.footerBankDetails = function () {
        var html = '';
        // close this div in last
        html += "\n    <div class=\"inv-footer-wrapper\" style=\"margin:0 !important; padding:0 !important\"> \n      <div style=\"height: 1px; width: 100%;\"></div>\n        <div style=\"display: flex;width: 100%;align-items: flex-start;background: #ffffff;border-top:1px solid #000000 !important;\">";
        //Naming this div as div1, close it after applying conditions
        html += "\n        <div style=\"display: flex;width: 46%;float: left;margin-bottom: 5px;\" class=\"m-5\">\n        ";
        // div1 closed
        html += "</div>";
        html += this.commonSignatureFormatForFooter(commonTempData_1.commonTempData.whiteLogo, 'Customer Signature');
        // let authorizedSignature = this.data?.signature? this.data?.signature: commonTempData.whiteLogo;
        html += this.commonSignatureFormatForFooter(commonTempData_1.commonTempData.whiteLogo, 'Authorized Signatory');
        // Main div closed
        html += "</div>";
        html += "</div>";
        return html;
    };
    Gst1A5.prototype.commonSignatureFormatForFooter = function (imgBase64, title) {
        if (imgBase64.indexOf(".png") != -1 || imgBase64.indexOf(".jpg") != -1 || imgBase64.indexOf(".jpeg") != -1 || imgBase64.indexOf(".webp") != -1) {
            imgBase64 = "https://img.ezobanks.com/".concat(imgBase64);
        }
        return "\n        <div style=\"display: flow-root;width: 27%;float: left;margin-bottom: 5px;\" class=\"padding-16 m-5\">\n        <img style=\"width: 100%;object-fit: contain;object-position: bottom;margin-bottom:5px;\" class=\"m-5\" src=\"".concat(imgBase64, "\">\n        <div style=\"width: 100%;text-align: center;font-size: 14px;\" class=\"f-16\">").concat(title, "</div>\n        </div>\n        ");
    };
    Gst1A5.prototype.commonBankDetailsFormatForFooter = function (text) {
        return " <div style=\"font-size: 14px;width: 100%;\" class=\"f-16\">".concat(text, "</div>");
    };
    Gst1A5.prototype.commonAmountCalculationFormatForFooter = function (title, value) {
        return "\n        <div style=\"display:flex;\">\n        <div style=\"display: flow-root;font-size: 14px;color: #000;width: 50%;float: left;\"\n        class=\"f-14\">\n          ".concat(title, "\n        </div>\n        <div\n        style=\"display: flow-root;font-size: 14px;color: #000;width: 50%;float: left;text-align: right;\"\n        class=\"f-14\">\n           \u20B9").concat(value, "\n        </div>\n        </div>\n        ");
    };
    Gst1A5.prototype.commonDateFormat = function (dateName, timeStamp) {
        return "\n          <div style=\"display: flow-root;font-size: 14px;color: #000;width: 50%;float: left;\"\n          class=\"f-14\">\n         ".concat(dateName, " : </div>\n          <div\n          style=\"display: flow-root;font-size: 14px;color: #000;width: 50%;float: left;text-align: right;\"\n          class=\"f-14\">\n          ").concat(commonTempData_1.commonTempData.dateToDDMMYYY(timeStamp), " </div>\n\n          ");
    };
    Gst1A5.prototype.commonDateTimeFormat = function (dateName, timeStamp) {
        return "\n      <div style=\"display: flow-root;font-size: 14px;color: #000;width: 50%;float: left;\"\n      class=\"f-14\">\n    ".concat(dateName, " : </div>\n      <div\n      style=\"display: flow-root;font-size: 14px;color: #000;width: 50%;float: left;text-align: right;\"\n      class=\"f-14\">\n      ").concat(commonTempData_1.commonTempData.dateToDDMMYYYHHMMAP(timeStamp), " </div>\n    ");
    };
    Gst1A5.prototype.commonRightSideFormatForSellerAndParty = function (title, value) {
        return "\n          <div style=\"display: flow-root;font-size: 14px;color: #000;width: 50%;float: left;\"\n          class=\"f-14\">\n          ".concat(title, " : </div>\n          <div\n          style=\"display: flow-root;font-size: 14px;color: #000;width: 50%;float: left;text-align: right;\"\n          class=\"f-14\">\n          ").concat(value, "</div>\n          ");
    };
    Gst1A5.prototype.commonLeftSideFormatforSellerAndParty = function (title, value) {
        return "\n          <div class=\"f-14\" style=\"font-size:14px;color:#000;\">".concat(value, "</div>\n          ");
    };
    return Gst1A5;
}());
exports.Gst1A5 = Gst1A5;
//# sourceMappingURL=gst1-A5.js.map